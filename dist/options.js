(()=>{function e(e){var l=e.target;if("addButton"===l.id){var d=document.getElementById("websiteInput"),o=d.value.trim();o&&function(e){try{return new URL(e),!0}catch(e){return!1}}(o)?chrome.runtime.sendMessage({type:"updateBlocklist",action:"add",url:o},t):(alert("Please enter a valid URL."),d.focus())}else if("removeButton"===l.id){var i=document.querySelector("#blocklistDisplay .selected");i&&chrome.runtime.sendMessage({type:"updateBlocklist",action:"remove",url:i.textContent},t)}else l.closest("#blocklistDisplay li")?(n(),l.classList.add("selected"),document.getElementById("removeButton").disabled=!1):"fullClearButton"===l.id&&confirm("Are you sure you want to clear all settings and data?")?chrome.runtime.sendMessage({action:"clearBlocklist"}):l.closest("#websiteInput")||n()}function t(e){var t=document.getElementById("blocklistDisplay");t.innerHTML="",e.blocklist.forEach((function(e){var n=document.createElement("li");n.textContent=e,t.appendChild(n)}))}function n(){document.querySelectorAll("#blocklistDisplay .selected").forEach((function(e){e.classList.remove("selected")})),document.getElementById("removeButton").disabled=!0}window.globalClickListenerAdded||(document.addEventListener("click",e),window.globalClickListenerAdded=!0),document.addEventListener("DOMContentLoaded",(function(){window.globalClickListenerAdded||(document.addEventListener("click",e),window.globalClickListenerAdded=!0)}))})();